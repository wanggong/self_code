
phy_value_path="/data/debugfs/debug_mem/value";
phy_addr_path="/data/debugfs/debug_mem/address";

#mkdir -p /data/debugfs;
#mount -t debugfs nodev /data/debugfs;

insmod /system/lib/modules/debug_mem.ko
mkdir -p /data/debugfs/
mount -t debugfs nodev /data/debugfs
mount -o remount rw /system/
chmod 777 /system/bin/

function set_value_addr()
{
	echo $1 > $phy_addr_path;
}

function get_value()
{
	set_value_addr $1;
	value=`cat $phy_value_path`;echo "value : $value";
}

function set_value()
{
	set_value_addr $1;
	#echo "value : $2";
	echo $2 > $phy_value_path;
}


sp2529_uxga_settings_addr=0xc0e73fa4;
sp2529_recommend_settings_addr=0xc0e72154;
sp2529_reg_saturation_addr=0xc0e74564;

function sp2529_uxga_settings()
{
	let address=$sp2529_uxga_settings_addr+0x10*$1;
	if(($#<2))
	then
		get_value $address;
	else
		set_value $address $2;
	fi
}

function sp2529_recommend_settings()
{
	let address=$sp2529_recommend_settings_addr+0x10*$1;
	if(($#<2))
	then
		get_value $address;
	else
		set_value $address $2;
	fi
}

function sp2529_reg_saturation()
{
	let address=$sp2529_reg_saturation_addr+0x10*$1;
	if(($#<2))
	then
		get_value $address;
	else
		set_value $address $2;
	fi
}

function sp2529_help()
{
	echo "sp2529_uxga_settings (index -value)";
	echo "sp2529_recommend_settings (index -value)";
	echo "sp2529_reg_saturation (index -value)";
}

sp2529_help

address_start=0;
array_value_set()
{
	local new_array;
	new_array=(`echo "$@"`)
  local array_len=${#new_array[*]}
  echo "total num is $array_len"
  echo "start_address:$address_start"
  local index=0;
  
	while [ 1 ]
	do
		if(($index<$array_len))
		then
			local temp1=${new_array[$index]}
			temp1=${temp1/,/};
			index=$index+1;
			local temp2=${new_array[$index]}
			temp2=${temp2/,/};
			index=$index+1;
			#echo $temp1;
			#echo $temp2;
			let result=$temp2\<\<16\|$temp1;
			#echo $result;
			
			let set_address=$address_start+(($index-2)\>\>1)*0x10
			set_value $set_address $result
			
			
		else
			break;
		fi
	done
}

sp2529_recommend_settings=(
{0xfd,0x00},
{0x19,0x00},
{0x30,0x00},
{0x31,0x00},
{0x33,0x00},
{0x95,0x06},
{0x94,0x40},
{0x97,0x04},
{0x96,0xb0},
{0x1d,0x00},
{0x1b,0x37},
{0x0c,0x66},
{0x27,0xa5},
{0x28,0x08},
{0x1e,0x13},
{0x21,0x10},
{0x15,0x16},
{0x71,0x18},
{0x7c,0x18},
{0x76,0x19},
{0x98,0x39},
{0xfd,0x02},
{0x85,0x00},
{0xfd,0x01},
{0x36,0x00},
{0xfd,0x00},
{0x1b,0x37},
{0x1d,0x00},
{0x11,0x40},
{0x18,0x00},
{0x1a,0x49},
{0x1e,0x01},
{0x0c,0x55},
{0x21,0x10},
{0x22,0x2a},
{0x25,0xad},
{0x27,0xa1},
{0x1f,0xc0},
{0x28,0x0b},
{0x2b,0x8c},
{0x26,0x09},
{0x2c,0x45},
{0x37,0x00},
{0x16,0x01},
{0x17,0x2f},
{0x69,0x01},
{0x6a,0x2d},
{0x13,0x4f},
{0x6b,0x50},
{0x6c,0x50},
{0x6f,0x50},
{0x73,0x51},
{0x7a,0x41},
{0x70,0x41},
{0x7d,0x40},
{0x74,0x40},
{0x75,0x40},
{0x14,0x01},
{0x15,0x20},
{0x71,0x22},
{0x76,0x22},
{0x7c,0x22},
{0x7e,0x21},
{0x72,0x21},
{0x77,0x20},
{0xfd,0x00},
{0xfd,0x01},
{0x32,0x00},
{0xfb,0x21},
{0xfd,0x02},
{0x85,0x00},
{0x00,0x82},
{0x01,0x82},
{0xfd,0x00},
{0x2e,0x85},
{0x1e,0x00},
{0xfd,0x00},
{0x2f,0x04},
{0x03,0x02},
{0x04,0xa0},
{0x05,0x00},
{0x06,0x00},
{0x07,0x00},
{0x08,0x00},
{0x09,0x00},
{0x0a,0x95},
{0xfd,0x01},
{0xf0,0x00},
{0xf7,0x70},
{0xf8,0x5d},
{0x02,0x0b},
{0x03,0x01},
{0x06,0x70},
{0x07,0x00},
{0x08,0x01},
{0x09,0x00},
{0xfd,0x02},
{0x3d,0x0d},
{0x3e,0x5d},
{0x3f,0x00},
{0x88,0x92},
{0x89,0x81},
{0x8a,0x54},
{0xfd,0x02},
{0xbe,0xd0},
{0xbf,0x04},
{0xd0,0xd0},
{0xd1,0x04},
{0xc9,0xd0},
{0xca,0x04},
{0xf2,0x09},
{0xb8,0x70},
{0xb9,0x90},
{0xba,0x30},
{0xbb,0x45},
{0xbc,0x90},
{0xbd,0x70},
{0xfd,0x03},
{0x77,0x50},
{0xfd,0x01},
{0xe0,0x48},
{0xe1,0x38},
{0xe2,0x30},
{0xe3,0x2c},
{0xe4,0x2c},
{0xe5,0x2a},
{0xe6,0x2a},
{0xe7,0x28},
{0xe8,0x28},
{0xe9,0x28},
{0xea,0x26},
{0xf3,0x26},
{0xf4,0x26},
{0xfd,0x01},
{0x04,0xa0},
{0x05,0x26},
{0x0a,0x48},
{0x0b,0x26},
{0xfd,0x01},
{0xeb,0x7F},
{0xec,0x7F},
{0xed,0x05},
{0xee,0x0a},
{0xfd,0x03},
{0x52,0xff},
{0x53,0x60},
{0x94,0x20},
{0x54,0x00},
{0x55,0x00},
{0x56,0x80},
{0x57,0x80},
{0x95,0x80},
{0x58,0x00},
{0x59,0x00},
{0x5a,0xf6},
{0x5b,0x00},
{0x5c,0x88},
{0x5d,0x00},
{0x96,0x68},
{0xfd,0x03},
{0x8a,0x00},
{0x8b,0x00},
{0x8c,0xff},
{0x22,0xff},
{0x23,0xff},
{0x24,0xff},
{0x25,0xff},
{0x5e,0xff},
{0x5f,0xff},
{0x60,0xff},
{0x61,0xff},
{0x62,0x00},
{0x63,0x00},
{0x64,0x00},
{0x65,0x00},
{0xfd,0x01},
{0x21,0x00},
{0x22,0x00},
{0x26,0xa0},
{0x27,0x14},
{0x28,0x05},
{0x29,0x20},
{0x2a,0x01},
{0xfd,0x01},
{0xa1,0x28},
{0xa2,0x20},
{0xa3,0x31},
{0xa4,0x1f},
{0xa5,0x20},
{0xa6,0x18},
{0xa7,0x27},
{0xa8,0x15},
{0xa9,0x1c},
{0xaa,0x13},
{0xab,0x22},
{0xac,0x12},
{0xad,0x02},
{0xae,0x08},
{0xaf,0x02},
{0xb0,0x04},
{0xb1,0x05},
{0xb2,0x07},
{0xb3,0x05},
{0xb4,0x04},
{0xb5,0x05},
{0xb6,0x0b},
{0xb7,0x09},
{0xb8,0x09},
{0xfd,0x02},
{0x26,0xac},
{0x27,0x91},
{0x28,0xcc},
{0x29,0x01},
{0x2a,0x02},
{0x2b,0x16},
{0x2c,0x20},
{0x2d,0xdc},
{0x2e,0x20},
{0x2f,0x96},
{0x1b,0x80},
{0x1a,0x80},
{0x18,0x16},
{0x19,0x26},
{0x66,0x35},
{0x67,0x5f},
{0x68,0xb5},
{0x69,0xdb},
{0x6a,0xa5},
{0x7c,0x2b},
{0x7d,0x51},
{0x7e,0xF5},
{0x7f,0x18},
{0x80,0xa6},
{0x70,0x1a},
{0x71,0x45},
{0x72,0x08},
{0x73,0x2a},
{0x74,0xaa},
{0x6b,0x03},
{0x6c,0x2b},
{0x6d,0x12},
{0x6e,0x36},
{0x6f,0xaa},
{0x61,0xf7},
{0x62,0x1e},
{0x63,0x34},
{0x64,0x57},
{0x65,0x6a},
{0x75,0x00},
{0x76,0x09},
{0x77,0x02},
{0x0e,0x16},
{0x3b,0x09},
{0xfd,0x02},
{0x02,0x00},
{0x03,0x10},
{0x04,0xf0},
{0xf5,0xb3},
{0xf6,0x80},
{0xf7,0xe0},
{0xf8,0x89},
{0xfd,0x02},
{0x08,0x00},
{0x09,0x04},
{0xfd,0x02},
{0xdd,0x0f},
{0xde,0x0f},
{0xfd,0x02},
{0x57,0x1a},
{0x58,0x10},
{0x59,0xe0},
{0x5a,0x20},
{0x5b,0x20},
{0xcb,0x10},
{0xcc,0x10},
{0xcd,0x28},
{0xce,0x80},
{0xfd,0x03},
{0x87,0x0a},
{0x88,0x14},
{0x89,0x18},
{0xfd,0x02},
{0xe8,0x30},
{0xec,0x40},
{0xe9,0x30},
{0xed,0x40},
{0xea,0x28},
{0xee,0x38},
{0xeb,0x20},
{0xef,0x30},
{0xfd,0x02},
{0xdc,0x03},
{0x05,0x00},
{0xfd,0x02},
{0xf4,0x30},
{0xfd,0x03},
{0x97,0x80},
{0x98,0x80},
{0x99,0x80},
{0x9a,0x80},
{0xfd,0x02},
{0xe4,0xff},
{0xe5,0xff},
{0xe6,0xff},
{0xe7,0xff},
{0xfd,0x03},
{0x72,0x00},
{0x73,0x2d},
{0x74,0x2d},
{0x75,0x2d},
{0xfd,0x02},
{0x78,0x40},
{0x79,0x40},
{0x7a,0x14},
{0x7b,0x08},
{0x81,0x40},
{0x82,0x40},
{0x83,0x14},
{0x84,0x08},
{0xfd,0x03},
{0x7e,0x08},
{0x7f,0x10},
{0x80,0x20},
{0x81,0x30},
{0x7c,0xff},
{0x82,0x44},
{0x83,0x22},
{0x84,0x08},
{0x85,0x40},
{0x86,0x80},
{0xfd,0x03},
{0x66,0x18},
{0x67,0x28},
{0x68,0x20},
{0x69,0x88},
{0x9b,0x18},
{0x9c,0x28},
{0x9d,0x20},
{0xfd,0x01},
{0x8b,0x00},
{0x8c,0x11},
{0x8d,0x25},
{0x8e,0x30},
{0x8f,0x3c},
{0x90,0x4e},
{0x91,0x5c},
{0x92,0x64},
{0x93,0x70},
{0x94,0x81},
{0x95,0x90},
{0x96,0xa0},
{0x97,0xae},
{0x98,0xba},
{0x99,0xc3},
{0x9a,0xce},
{0x9b,0xd6},
{0x9c,0xde},
{0x9d,0xe7},
{0x9e,0xef},
{0x9f,0xf6},
{0xa0,0xff},
{0xfd,0x02},
{0x15,0xa8},
{0x16,0x95},
{0xa0,0x73},
{0xa1,0xfa},
{0xa2,0x13},
{0xa3,0xed},
{0xa4,0x8a},
{0xa5,0x08},
{0xa6,0xf4},
{0xa7,0xe0},
{0xa8,0xac},
{0xa9,0x0c},
{0xaa,0x03},
{0xab,0x0f},
{0xac,0x8c},
{0xad,0xf4},
{0xae,0x00},
{0xaf,0xe7},
{0xb0,0x93},
{0xb1,0x06},
{0xb2,0xf4},
{0xb3,0xda},
{0xb4,0xb3},
{0xb5,0x0c},
{0xb6,0x03},
{0xb7,0x0f},
{0xfd,0x01},
{0xd2,0x2f},
{0xd1,0x38},
{0xdd,0x1b},
{0xde,0x1b},
{0xfd,0x02},
{0xc1,0x40},
{0xc2,0x40},
{0xc3,0x40},
{0xc4,0x40},
{0xc5,0x80},
{0xc6,0x80},
{0xc7,0x80},
{0xc8,0x80},
{0xfd,0x01},
{0xd3,0x8a},
{0xd4,0x8a},
{0xd5,0x8a},
{0xd6,0x8a},
{0xd7,0x8a},
{0xd8,0x8a},
{0xd9,0x8a},
{0xda,0x8a},
{0xfd,0x03},
{0x76,0x10},
{0x7a,0x40},
{0x7b,0x40},
{0xfd,0x01},
{0xc2,0xff},
{0xc3,0xff},
{0xc4,0xaa},
{0xc5,0xaa},
{0xfd,0x01},
{0xcd,0x18},
{0xce,0x10},
{0xfd,0x02},
{0x32,0x40},
{0x35,0x40},
{0x37,0x13},
{0xfd,0x01},
{0xdb,0x00},
{0x10,0x80},
{0x11,0x80},
{0x12,0x80},
{0x13,0x80},
{0x14,0x92},
{0x15,0x92},
{0x16,0x92},
{0x17,0x92},
{0xfd,0x03},
{0x00,0x80},
{0x03,0x30},
{0x06,0xf0},
{0x07,0x08},
{0x0a,0x00},
{0x01,0x00},
{0x02,0x00},
{0x04,0x00},
{0x05,0x00},
{0x0b,0x00},
{0x0c,0x00},
{0x0d,0x00},
{0x0e,0x00},
{0x08,0x10},
{0x09,0x10},
{0xfd,0x02},
{0x8e,0x0a},
{0x8f,0x03},
{0x90,0x40},
{0x91,0x40},
{0x92,0x60},
{0x93,0x80},
{0x94,0x80},
{0x95,0x80},
{0x96,0x80},
{0x97,0x80},
{0x98,0x80},
{0x99,0x80},
{0x9a,0x80},
{0x9b,0x80},
{0x9e,0x44},
{0x9f,0x44},
{0xfd,0x02},
{0x85,0x00},
{0xfd,0x01},
{0x00,0x00},
{0x32,0x15},
{0x33,0xef},
{0x34,0xef},
{0x35,0x00},
{0xfd,0x00},
{0x3f,0x00},
{0xfd,0x01},
{0x50,0x00},
{0x66,0x00},
{0xfd,0x02},
{0xd6,0x0f},
)

address_start=0xc0e72154;
array_value_set ${sp2529_recommend_settings[*]}
